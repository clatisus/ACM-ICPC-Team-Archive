## A

**题目大意**：给你 $n$ 个空的不可重集，下标从 $1$ 开始。然后进行 $n$ 次操作，第 $i$ 次操作把任意一个 $1$ 到 $m$ 间的正整数插入到下标从 $i$ 到 $n$ 的所有集合中，问最终可能的状态有多少种，取模。

**题解**：首先枚举使用了多少种数字，设为 $t$，这一步的答案为 ${m\choose t}$。然后注意到每种数字只有最左边的位置产生影响，也就是说我们只需要计算哪些位置是某个数字最左边的出现即可，由于 $1$ 必然是一个这样的位置，所以这一步的答案为 ${n-1\choose t-1}$。最后我们需要计算 $t$ 种颜色出现的顺序，也就是 $t!$。因此答案为 $\sum_{t=1}^{\min\{n,m\}}t!{m\choose t}{n-1\choose t-1}$。复杂度 $\mathcal{O}(\min\{n,m\})$。

## B

**题目大意**：给出 $c,z,m(1\le c,m\le100000,0\le z\le100000)$，求满足 $1\le a,b\le m,0\le x,y\le m, a^{x}\cdot b^{y}=c^{z}$ 的有序四元组 $(a,b,x,y)$ 的数量。

**题解**：首先将 $c$ 质因数分解，容易发现 $a,b$ 的质因子必须也为 $c$ 的质因子。打表可知 $100000$ 以内的数至多有 $6$ 个质因子，显然由 $2,3,5,7,11,13$ 组成的数最多，在 $100000$ 以内共有 $1848$ 个，因此枚举 $a,b$ 的复杂度是可以接受的。之后我们将 $a$ 和 $b$ 质因数分解，对 $c$ 的每个质因子，我们容易分别列出一个关于 $x,y$ 的二元一次方程，解这个二元一次方程组就能得出满足要求的 $(x,y)$ 的数量。