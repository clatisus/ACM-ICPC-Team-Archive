## E Everything on It

**题目大意**：求 $\{1,2,\cdots,n\}$ 的幂集的幂集的子集中，有多少集合包含了 $1,2,\cdots,n$ 各两个以上。

**题解**：容斥。

设 $f(i)$ 表示有 $i$ 个数不超过 $1$ 个的集合数量（剩余的 $n-i$ 个数数量不限，也可以为 $0,1$），则答案为 $2^{2^{n}}+\sum_{i=1}^{n}(-1)^{i}{n\choose i}f(i)$。接下来考虑 $f(i)$ 的求法：

设这 $i$ 个数出现在了 $j$ 个集合中（可以有些数不出现），设这样的方案数为 $s(i,j)$。对于一个这样的方案，我们考虑将剩余的 $n-i$ 个数添加进去。首先，这 $j$ 个集合中的每一个都可以和 $n-i$ 个数的 $2^{n-i}$ 个子集任意组合而不会出现重复，故答案要乘以 $(2^{n-i})^{j}$，另外这 $2^{n-i}$ 个集合的集合的子集也可以任意添加进去，故答案要再乘以 $2^{2^{n-i}}$。故 $f(i)=\sum_{j=0}^{i}s(i,j)(2^{n-i})^{j}2^{2^{n-i}}$。

$s(i,j)$ 的求法较为简单：
$$
s(i,j)=\begin{cases}
&1&(j=0)\\
&s(i-1,j-1)+(j+1)s(i-1,j)&(1\le j\le i)
\end{cases}
$$
