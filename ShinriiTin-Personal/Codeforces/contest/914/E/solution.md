## [E. Palindromes in a Tree](http://codeforces.com/contest/914/problem/E)

**题目大意：**

给出一棵$n\le2\times10^5$的树，每个节点都有且只有一个字符(小写字母$a-t$)。对每一个节点，询问有多少条经过它的路径（交换起点终点算同一条路径）组成的字符串是回文的。

**题解：**

注意到字符只有$20$种，因此可以状压每种字符的奇偶性，枚举哪个字符有奇数个，树分治即可。

树分治的时候不光要统计当前重心的答案，还要顺便统计访问到的节点的答案。

注意对于非重心节点，以当前子树内的任意一个点作为端点的路径都会对它做贡献。

注意对于重心节点，有的路径在两个端点处都计算了，需要对这一部分除以$2$进行去重。

时间复杂度$O(\alpha n\log{n})$，$\alpha$为字符集大小$20$.