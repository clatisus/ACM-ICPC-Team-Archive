**题目大意**：给定一个初始只有 $m$ 个点，没有边的图 $G$，和两棵均以 $1$ 为根的树 Ta 和 Tb。树 Ta 和 Tb 上每个点存储的是图 $G$ 中的一条边。

现在问你对于 $\forall i, i \in [1, n]$，把两棵树中，点 $i$ 到根的两条路径上所有点存储的边插入图 $G$，有多少个连通块。

**题解**：我们按照 SCOI 王室联邦的树分块方法，把两棵树各分为 $\sqrt n$ 块。这种分块方法下，每一块要么连通，要么加上它们的 lca 之后连通。我们用这个 lca 来代表这个块，那么显然 lca 也只有 $\sqrt n$ 个。

考虑两棵树的所有块的 lca，这样的 pair 只有 $\sqrt n \times \sqrt n = n$ 类。我们将询问分类，对于每一类进行处理。处理这一类的时候，我们先把图 $G$ 的状态转移到两棵树对应的 lca 处。然后处理每一个询问，处理完每个询问的时候，都用可撤销的启发式合并并查集恢复状态，以供下个询问。

这样，在类的内部，每个询问最多转移 $\mathcal{O}(\sqrt n)$ 次。考虑类之间，我们在两棵树中把各自块的 lca 打上标记，然后 dfs 第一棵树，对于有标记的点，我们从头开始 dfs 第二棵树。这样的复杂度是 $\mathcal{O}(n\sqrt n)$ 的。
